# 樱花

---

要求:
$\frac{1}{x}+\frac{1}{y}=\frac{1}{n!}$

n给定，那么我们就可以用x来表示y从而减少一个参数

$\frac{1}{y}=\frac{1}{n!}-\frac{1}{x}$（在这个式子中，我们需要保证y为整数,且x，y，n都严格大于0）

$\frac{1}{y}=\frac{x-n!}{n! \times x}$

$y=\frac{n! \times x}{x-n!}$

$y=\frac{n! \times (x-n!+n!)}{x-n!}$

$y=n! + \frac{{n!}^2}{x-n!}$

可以等效为

$y= \frac{{n!}^2}{x-n!}$ 

why?
因为我们本题的目的是为了让y为整数，而$n!$必为整数


$y= \frac{{n!}^2}{x-n!}$ 观察式子，由于x的取值范围为>0，故分母可以取任何>0的整数

最终，本题变为${n!}^2$有多少个约数

* $x \in n!$

$x$的可以表示为：${p_1}^{c_1}{p_2}^{c_2}{p_3}^{c_3}...$
$x$的约数可以表示为：$(c_1+1)(c_2+1)(c_3+1)...$
${x}^2$的可以表示为：${p_1}^{2 \times c_1}{p_2}^{2 \times c_2}{p_3}^{2 \times c_3}...$
${x}^2$的约数可以表示为：$(2 \times c_1+1)(2 \times c_2+1)(2 \times c_3+1)...$



接下来的操作也可以参考 阶乘分解 (数学基础\素数\阶乘分解.md)

对于一个素数primes[i]，表示为p
面对n!，那么primes[j]的约数个数为

$sum(\frac{n}{p}+\frac{n}{p^2}+\frac{n}{p^3}...)$

在实际操作中，就直接
```c++
int p=primes[j],t=n,s=0;
while(t)
{
	s+=t/p;
	t/=p;
}
res × = (2 × s + 1);
```